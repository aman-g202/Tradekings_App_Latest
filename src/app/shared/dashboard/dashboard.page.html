<ion-toolbar color="primary">
  <ion-title>{{partyName}}</ion-title>
</ion-toolbar>


<ion-content class="full-background">
  
  <ion-card class="tabs-wrapper">
      <ion-card-header class="card-title">
        <!-- TARGET vs ACHIEVEMENT -->
        <!-- <ion-icon></ion-icon> -->
        <ion-card-title>
          <ion-item>
            <ion-label>TARGET vs ACHIEVEMENT</ion-label>
            <ion-select placeholder="Total">
              <ion-select-option selected="true" value="total" (ionSelect)="totalCategorySelected()">Total</ion-select-option>
              <ion-select-option *ngFor="let category of categoryList" [value]="category" (ionSelect)="targetCategorySelectionChanged(category)">{{category.name}}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-card-title>
      </ion-card-header>

      <ion-row>
          <ion-col class="tabs" align-items-center>
              <p class="tab-label-sm" align-items-center>
                Target
              </p>
              <p class="tab-label-lg" align-items-center>
                {{data.target | number: '.2'}}
              </p>
          </ion-col>
          <ion-col class="tabs">
              <p class="tab-label-sm">
                  Balance To Do
                </p>
                <p class="tab-label-lg">
                  {{data.balanceToDo | number: '.2'}}
              </p>
          </ion-col>

        </ion-row>

        <ion-row>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                    MTD Achieved
                  </p>
                  <p class="tab-label-lg">
                    {{data.achievement | number: '.2'}}
                </p>
            </ion-col>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                  % Achieved
                </p>
                <p class="tab-label-lg">
                  {{data.achievedPercentage}}%
                </p>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                  LMTD Achieved
                </p>
                <p class="tab-label-lg">
                  {{data.lmtdAchieve}}
                </p>
            </ion-col>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                    % Growth over LMTD
                  </p>
                  <p class="tab-label-lg">
                    {{data.lmtdGrowthPercentage}}%
                </p>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                  LYMTD Achieved
                </p>
                <p class="tab-label-lg">
                  {{data.lymtdAchieve}}
                </p>
            </ion-col>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                    % Growth over LYMTD
                  </p>
                  <p class="tab-label-lg">
                    {{data.lymtdGrowthPercentage}}%
                </p>
            </ion-col>
          </ion-row>
          <div>
              <ion-row>
                <div>
                    <canvas #pieCanvas style="width: 100%"> </canvas>
                </div>
              </ion-row>
            </div>

          <ion-row class="targetBottom">
            <p class="targetFootnote">*MTD: Month Till Date</p>
          </ion-row>
  </ion-card>

  <ion-card class="tabs-wrapper" *ngIf="data.creditLimit !== undefined">
      <ion-card-header class="card-title outstanding">
        OUTSTANDING
      </ion-card-header>
      
          <ion-row>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                    Total Credit Limit
                </p>
                <p class="tab-label-lg">
                  {{data.creditLimit !== 'NA' ? (data.creditLimit | number: '.2') : data.creditLimit}}
                </p>
            </ion-col>
            <ion-col class="tabs">
                <p class="tab-label-sm">
                    Total Outstanding
                  </p>
                  <p class="tab-label-lg">
                    {{data.currentOutStanding !== 'NA' ? (data.currentOutStanding | number: '.2') : data.currentOutStanding}}
                </p>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="data.thirtyDaysOutStanding !== undefined">
              <ion-col class="tabs">
                  <p class="tab-label-sm">
                      > 30- Days Outstanding
                  </p>
                  <p class="tab-label-lg">
                    {{data.thirtyDaysOutStanding !== 'NA' ? (data.thirtyDaysOutStanding | number: '.2') : data.thirtyDaysOutStanding }}
                  </p>
              </ion-col>
              <ion-col class="tabs">
                  <p class="tab-label-sm">
                      Available Credit Limit
                    </p>
                    <p class="tab-label-lg">
                      {{data.availableCreditLimit !== 'NA' ? (data.availableCreditLimit | number: '.2') : data.availableCreditLimit}}
                  </p>
              </ion-col>
            </ion-row>
  </ion-card>

</ion-content>
